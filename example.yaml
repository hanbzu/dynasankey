# Simplified YAML structure:
# - All values (parameters and constraints) are in one section
# - Slugs are unique across nodes and flows, no need for prefixes
# - Values can be numbers, formulas, or reference other slugs

values:
    # Input parameters (constants)
    distance: 1380
    coaches: 10
    cost_per_km: 28
    cost_per_coach: 1000
    rdc_margin: 0.1
    seats: 350
    occupancy: 0.7
    avg_ticket_price: 137.38
    subsidy_train: 32200

    # Flow values (formulas)
    tickets: avg_ticket_price * seats * occupancy
    subsidy: subsidy_train
    #rdc_profit: 4900
    rdc_profit: (per_km_costs + fixed_costs) * 0.1
    per_km_costs: distance * cost_per_km
    fixed_costs: cost_per_coach * coaches

# Graph nodes
nodes:
    - id: n_tickets
      label: "Tickets revenue"
    - id: n_subsidy
      label: "Subsidy"
    - id: n_revenue
      label: "Revenue"
    - id: n_sbb_profit
      label: "SBB profit"
    - id: n_cost
      label: "Cost"
    - id: n_rdc_profit
      label: "RDC profit"
    - id: n_per_km_costs
      label: "Per km costs"
    - id: n_fixed_costs
      label: "Fixed costs"

# Directed flows between nodes
flows:
    - id: tickets
      from: n_tickets
      to: n_revenue
      label: "Tickets sold"
    - id: subsidy
      from: n_subsidy
      to: n_revenue
      label: "Subsidy"
    - id: sbb_profit
      from: n_revenue
      to: n_sbb_profit
      label: "SBB profit"
    - id: cost
      from: n_revenue
      to: n_cost
      label: "Net cost"
    - id: rdc_profit
      from: n_cost
      to: n_rdc_profit
      label: "RDC profit"
    - id: per_km_costs
      from: n_cost
      to: n_per_km_costs
      label: "Per km costs"
    - id: fixed_costs
      from: n_cost
      to: n_fixed_costs
      label: "Fixed costs"
